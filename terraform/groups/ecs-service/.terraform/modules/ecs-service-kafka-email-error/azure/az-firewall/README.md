# az-firewall

> This project was generated by [generator-tf-module](https://github.com/sudokar/generator-tf-module)

## Overview

This module will create an instance of Azure Firewall along with the initial policy.

## Usage

```hcl
module "az-firewall" {
  source = "git::ssh://"
}
```

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 0.13.0, < 0.14 |
| <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) | >= 2.4.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_azurerm"></a> [azurerm](#provider\_azurerm) | >= 2.4.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [azurerm_firewall.this](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/firewall) | resource |
| [azurerm_firewall_policy.this](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/firewall_policy) | resource |
| [azurerm_public_ip.this](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/public_ip) | resource |
| [azurerm_public_ip.this_additional](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/public_ip) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_additional_public_ips"></a> [additional\_public\_ips](#input\_additional\_public\_ips) | The total number of additional Public IPs to create for the firewall | `number` | `0` | no |
| <a name="input_azfirewall_name"></a> [azfirewall\_name](#input\_azfirewall\_name) | The name for the instance of Azure Firewall | `string` | `"azfirewall-001"` | no |
| <a name="input_azfirewall_policy_name"></a> [azfirewall\_policy\_name](#input\_azfirewall\_policy\_name) | The name for the Azure Firewall Policy | `string` | `"azfw-policy-001"` | no |
| <a name="input_dns_proxy_enabled"></a> [dns\_proxy\_enabled](#input\_dns\_proxy\_enabled) | Boolean, enable Azure Firewall as a DNS Proxy using provided DNS Servers | `bool` | `false` | no |
| <a name="input_dns_servers"></a> [dns\_servers](#input\_dns\_servers) | A list of DNS servers to use in the Firewall Policy DNS section | `list(string)` | `null` | no |
| <a name="input_ip_configuration_name_prefix"></a> [ip\_configuration\_name\_prefix](#input\_ip\_configuration\_name\_prefix) | The IP configuration name initially assigned to the deployed Azure Firewall | `string` | `"azfw-ipconf"` | no |
| <a name="input_location"></a> [location](#input\_location) | The location resources will be located in once deployed | `string` | n/a | yes |
| <a name="input_publicip_name_prefix"></a> [publicip\_name\_prefix](#input\_publicip\_name\_prefix) | The name for the Public IP for Azure Firewall | `string` | `"pip-azfirewall"` | no |
| <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name) | The resource group name this virtual network will be created in | `string` | n/a | yes |
| <a name="input_sku"></a> [sku](#input\_sku) | The SKU for both the Azure Firewall and the Firewall Policy. Options are Standard or Premium | `string` | `"Standard"` | no |
| <a name="input_sku_type"></a> [sku\_type](#input\_sku\_type) | The SKU type for the Azure Firewall. Options are AZFW\_Hub or AZFW\_VNet | `string` | `"AZFW_VNet"` | no |
| <a name="input_subnet_id"></a> [subnet\_id](#input\_subnet\_id) | The subnet ID resources are to be created in | `string` | n/a | yes |
| <a name="input_tags"></a> [tags](#input\_tags) | The tags to be applied to this resource | `map` | <pre>{<br>  "terraform": "true"<br>}</pre> | no |
| <a name="input_threat_intelligence_mode"></a> [threat\_intelligence\_mode](#input\_threat\_intelligence\_mode) | The opertion mode for threat intelligence | `string` | `"Alert"` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_azfirewall"></a> [azfirewall](#output\_azfirewall) | n/a |
| <a name="output_azfirewall_policy"></a> [azfirewall\_policy](#output\_azfirewall\_policy) | n/a |
| <a name="output_azfirewall_policy_id"></a> [azfirewall\_policy\_id](#output\_azfirewall\_policy\_id) | n/a |
| <a name="output_azfirewall_public_ip"></a> [azfirewall\_public\_ip](#output\_azfirewall\_public\_ip) | n/a |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->

## Development

### Prerequisites

- [terraform](https://learn.hashicorp.com/terraform/getting-started/install#installing-terraform)
- [terraform-docs](https://github.com/segmentio/terraform-docs)
- [pre-commit](https://pre-commit.com/#install)
- [golang](https://golang.org/doc/install#install)
- [golint](https://github.com/golang/lint#installation)

### Configurations

- Configure pre-commit hooks
```sh
pre-commit install
```


- Configure golang deps for tests
```sh
> go get github.com/gruntwork-io/terratest/modules/terraform
> go get github.com/stretchr/testify/assert
```



### Tests

- Tests are available in `test` directory

- In the test directory, run the below command
```sh
go test
```



## Authors

This project is authored by below people

- Stuart Hunter

> This project was generated by [generator-tf-module](https://github.com/sudokar/generator-tf-module)
